<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../polymer2-ts/polymer2-ts.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../bowser-polymer/bowser-polymer.html">
<link rel="import" href="../moment-element/moment-element.html">
<link rel="import" href="../titanium-date-input/titanium-date-input.html">
<link rel="import" href="../polymer/lib/elements/dom-if.html">
<link rel="import" href="../iron-form-element-behavior/iron-form-element-behavior.html">

<dom-module id="lss-paper-date-picker">
    <template>
        <style>
             :host {
                display: block;
            }
        </style>
        <dom-if if="[[isNativeSupported]]" restamp>
            <template>
                <style>
                     ::slotted(*) {
                        color: #737373;
                    }

                    paper-input[focused] ::slotted(*) {
                        --iron-icon-fill-color: var(--primary-color);
                        color: var(--primary-color);
                    }

                    paper-input[error] ::slotted(*) {
                        --iron-icon-fill-color: var(--error-color);
                        color: var(--error-color);
                    }

                    paper-input[disabled] ::slotted(*) {
                        --iron-icon-fill-color: #B6B6B6;
                        color: #B6B6B6;
                    }
                </style>
                <paper-input id="nativeInput" disabled$="[[disabled]]" validator="[[validator]]" value="{{value}}" type="date" always-float-label
                    focused="{{focused}}" invalid="{{error}}" error$="[[error]]" required$="[[required]]" error-message="[[errorMessage]]"
                    label="[[label]]" auto-validate="[[autoValidate]]">
                    <slot name="prefix" slot="prefix"></slot>
                </paper-input>
            </template>
        </dom-if>
        <dom-if if="[[!isNativeSupported]]" restamp>
            <template>
                <titanium-date-input auto-validate="false" label="[[label]]" required$="[[required]]" error-message="[[errorMessage]]" invalid="{{invalid}}"
                    value="{{value}}" disabled$="[[disabled]]">
                    <slot name="prefix" slot="prefix"></slot>
                </titanium-date-input>
            </template>
        </dom-if>
    </template>
    <script src="./lss-paper-date-picker.js"></script>
</dom-module>